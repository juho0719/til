CREATE TABLE `payment`
(
    `id`                        BIGINT        NOT NULL AUTO_INCREMENT,
    `pg_code`                   VARCHAR(10)   NOT NULL,
    `contract_number`           BIGINT        NOT NULL,
    `contract`                  VARCHAR(20)   NOT NULL,
    `status`                    VARCHAR(20)   NOT NULL,
    `buyer_name`                VARCHAR(30)   NOT NULL,
    `buyer_phone_number`        VARCHAR(20)   NOT NULL,
    `buyer_birthday`            VARCHAR(10)   NOT NULL,
    `title`                     VARCHAR(40)   NOT NULL,
    `expires_on`                DATE          NOT NULL,
    `screen_move_url`           VARCHAR(100)  NOT NULL,
    `payment_type`              VARCHAR(30)   NOT NULL,
    `total_amount`              DECIMAL(18,2) NOT NULL,
    `immediate_status`          VARCHAR(20),
    `immediate_payment_method`  VARCHAR(50),
    `immediate_amount`          DECIMAL(18,2),
    `deposit_status`            VARCHAR(20),
    `deposit_payment_method`    VARCHAR(50),
    `deposit_amount`            DECIMAL(18,2),
    `remain_status`             VARCHAR(20),
    `remain_payment_method`     VARCHAR(50),
    `remain_amount`             DECIMAL(18,2),
    `loan_status`               VARCHAR(20),
    `loan_interest_rate`        DECIMAL(3,2),
    `loan_amount`               DECIMAL(18,2),
    `loan_requested_at`         DATETIME,
    `loan_confirmed_at`         DATETIME,
    `point_amount`              DECIMAL(18,2),
    `payment_url`               VARCHAR(200),
    `created_at`                DATETIME      NOT NULL,
    `updated_at`                DATETIME      NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE = InnoDB
  DEFAULT CHARSET = utf8mb4
  COLLATE = utf8mb4_general_ci;

CREATE TABLE `payment_detail`
(
    `id`                          BIGINT          NOT NULL AUTO_INCREMENT,
    `payment_id`                  BIGINT          NOT NULL,
    `pg_code`                     VARCHAR(10)     NOT NULL,
    `contract_number`             BIGINT          NOT NULL,
    `sub_contract_number`         SMALLINT        NOT NULL,
    `status`                      VARCHAR(20)     NOT NULL,
    `payment_detail_type`         VARCHAR(20)     NOT NULL,
    `pg_payment_method`           VARCHAR(20)     NOT NULL,
    `transaction_id`              VARCHAR(30),
    `amount`                      DECIMAL(18,2)   NOT NULL,
    `payment_completed_on`        DATE,
    `payment_completed_time`      TIME,
    `payment_completed_at`        DATETIME,
    `supply_amount`               DECIMAL(18,2),
    `value_added_tax`             DECIMAL(18,2),
    `service_charge`              DECIMAL(18,2),
    `tax_free_amount`             DECIMAL(18,2),
    `transfer_channel`            VARCHAR(20),
    `card_code`                   VARCHAR(4),
    `card_number`                 VARCHAR(20),
    `quota`                       VARCHAR(2),
    `card_changing_reference_id`  BIGINT,
    `card_approval_number`        VARCHAR(20),
    `virtual_bank_code`           VARCHAR(4),
    `virtual_bank_name`           VARCHAR(20),
    `virtual_bank_number`         VARCHAR(20),
    `virtual_bank_expires_on`     DATE,
    `virtual_bank_account_name`   VARCHAR(20),
    `label`                       VARCHAR(20),
    `created_at`                  DATETIME        NOT NULL,
    `updated_at`                  DATETIME        NOT NULL,
    PRIMARY KEY (`id`)
) ENGINE = InnoDB
  DEFAULT CHARSET = utf8mb4
  COLLATE = utf8mb4_general_ci;

